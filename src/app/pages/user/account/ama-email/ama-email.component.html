<h2 class="title">Send us question</h2>

<mat-card>
  <form [formGroup]="htmlForm">
    <div>
      <mat-form-field>
        <div [ngClass]="{'has-error':!htmlForm.controls['subject'].valid}">
          <textarea matInput type="text" placeholder="subject" matTextareaAutosize [formControl]="htmlForm.controls['subject']" required></textarea>
          <div *ngIf="htmlForm.controls['subject'].hasError('required') && htmlForm.controls['subject'].touched" class="alert alert-danger" >You must include a subject.</div>
          <div *ngIf="htmlForm.controls['subject'].hasError('maxlength') && htmlForm.controls['subject'].touched" class="alert alert-danger" >Subject must be shorter than 100 characters</div>

        </div>
      </mat-form-field>
    </div>
  <div>
    <mat-form-field>
      <div [ngClass]="{'has-error':!htmlForm.controls['message'].valid}">
          <textarea matInput type="text" placeholder="message" matTextareaAutosize [formControl]="htmlForm.controls['message']" required></textarea>
        <div *ngIf="htmlForm.controls['message'].hasError('required') && htmlForm.controls['message'].touched" class="alert alert-danger" >You must include a message.</div>
        <div *ngIf="htmlForm.controls['message'].hasError('maxlength') && htmlForm.controls['message'].touched" class="alert alert-danger" >Message must be shorter than 300 characters</div>
      </div>
    </mat-form-field>
  </div>
    <div class="final-step">
      <button mat-raised-button color="warn" [disabled]="!htmlForm.valid" (click)="sendQuestion()">Send</button>
      <p class="errMsg" *ngIf="errMsg">{{errMsg}}</p>
    </div>
  </form>
</mat-card>
